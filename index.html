<!DOCTYPE html>
<html>
<head>
  <title>Pipper</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script type="module">
    import { animate, scroll } from "https://cdn.jsdelivr.net/npm/motion@latest/+esm"
  </script>
</head>

<body id="body" class="relative flex flex-col gap-2 p-4">
  <!-- Transparent overlay that lowers opacity on background UI and prevents interaction from user -->
  <div id="overlay" class="hidden absolute inset-0 bg-black/50 z-20"></div>
  <!-- Modal overlay that gets user input to pip created -->
  <div id="modal"
    class="hidden absolute shadow-2xl z-30 rounded-2xl p-8 bg-slate-100 border border-slate-900 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
    <div class="flex flex-col gap-4">
      <h3 class="text-2xl font-bold">Make a pip to the world</h3>
      <!-- Get user input from form -->
      <form id="pipform" method="post" class="flex flex-col gap-3">
        <label for="username">Username</label>
        <input id="username" name="username" class="border border-slate-500 p-1 rounded-md" type="text">
        <!-- Render error message to user -->
        <p class="text-red-500" id="errormessage"></p>
        <label for="piptext">What do you want to pip?</label>
        <textarea maxlength="255" id="piptext" name="piptext"
          class="border border-slate-500 p-1 rounded-md min-h-40 min-w-70"></textarea>
        <!-- Add photo video etc -->
        <div class="flex gap-4">
          <button type="button" class="flex cursor-pointer bg-[#093939] hover:bg-slate-950 items-center gap-2 border border-slate-500 py-1 px-2 rounded-lg">
            <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
              <path fill="white"
                d="M160 96C124.7 96 96 124.7 96 160L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 160C544 124.7 515.3 96 480 96L160 96zM224 176C250.5 176 272 197.5 272 224C272 250.5 250.5 272 224 272C197.5 272 176 250.5 176 224C176 197.5 197.5 176 224 176zM368 288C376.4 288 384.1 292.4 388.5 299.5L476.5 443.5C481 450.9 481.2 460.2 477 467.8C472.8 475.4 464.7 480 456 480L184 480C175.1 480 166.8 475 162.7 467.1C158.6 459.2 159.2 449.6 164.3 442.3L220.3 362.3C224.8 355.9 232.1 352.1 240 352.1C247.9 352.1 255.2 355.9 259.7 362.3L286.1 400.1L347.5 299.6C351.9 292.5 359.6 288.1 368 288.1z" />
            </svg>
            <p class="text-white text-xs">Photo</p>
          </button>
          <button type="button" class="flex items-center gap-2 cursor-pointer bg-[#093939] hover:bg-slate-950 border border-slate-500 py-1 px-2 rounded-lg">
            <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
              <path fill="white"
                d="M128 128C92.7 128 64 156.7 64 192L64 448C64 483.3 92.7 512 128 512L384 512C419.3 512 448 483.3 448 448L448 192C448 156.7 419.3 128 384 128L128 128zM496 400L569.5 458.8C573.7 462.2 578.9 464 584.3 464C597.4 464 608 453.4 608 440.3L608 199.7C608 186.6 597.4 176 584.3 176C578.9 176 573.7 177.8 569.5 181.2L496 240L496 400z" />
            </svg>
            <p class="text-white text-xs">Video</p>
          </button>
          <button type="button" class="flex items-center gap-2 cursor-pointer bg-[#093939] hover:bg-slate-950 border border-slate-500 py-1 px-2 rounded-lg">
            <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
              <path fill="white"
                d="M224 64C206.3 64 192 78.3 192 96L192 128L160 128C124.7 128 96 156.7 96 192L96 240L544 240L544 192C544 156.7 515.3 128 480 128L448 128L448 96C448 78.3 433.7 64 416 64C398.3 64 384 78.3 384 96L384 128L256 128L256 96C256 78.3 241.7 64 224 64zM96 288L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 288L96 288z" />
            </svg>
            <p class="text-white text-xs">Schedule</p>
          </button>
        </div>
        <!-- Submit button -->
        <button id="createPipButton" type="submit" disabled
          class="disabled:bg-gray-300 disabled:cursor-default bg-black text-white rounded-lg py-1 px-2 hover:bg-slate-800 cursor-pointer">Post pip</button>
          <!-- Character counter -->
          <p class="text-xs" id="charactercounter"></p>
      </form>
    </div>
  </div>
  <nav class="flex justify-between w-full items-center">
    <div class="flex gap-1 items-center card-bg py-1 px-2 rounded-lg cursor-pointer">
      <svg fill="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="30px" height="30px">
        <path
          d="M 5.9199219 6 L 20.582031 27.375 L 6.2304688 44 L 9.4101562 44 L 21.986328 29.421875 L 31.986328 44 L 44 44 L 28.681641 21.669922 L 42.199219 6 L 39.029297 6 L 27.275391 19.617188 L 17.933594 6 L 5.9199219 6 z M 9.7167969 8 L 16.880859 8 L 40.203125 42 L 33.039062 42 L 9.7167969 8 z" />
      </svg>
      <p class="text-white tracking-widest">PIPPER</p>
    </div>
    <button class="flex gap-2 h-fit cursor-pointer items-center card-bg py-1 px-3 border border-slate-500 rounded-lg">
      <img class="rounded-full" src="https://api.dicebear.com/9.x/personas/svg?seed=Felix&backgroundColor=ffdfbf"
        height="30" width="30" alt="user portrait" />
      <p class="text-gray-200 text-sm">Felix Baumgartner</p>
      <svg width="10" height="10" viewBox="0 0 15 15" fill="white" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z"
          fill-rule="evenodd" clip-rule="evenodd"></path>
      </svg>
    </button>
  </nav>
  <!-- Main section -->
  <section class="grid grid-cols-12 gap-4 grid-rows-6 h-[calc(100vh-100px)]">
    <!-- Profile card -->
    <div id="profilecard"
      class="group relative card-bg gap-4 flex flex-col items-center p-8 col-span-3 row-span-3 rounded-2xl">
      <!-- Absolute positioned banner -->
      <img src="assets/bg-space.jpeg" class="absolute object-cover brightness-125 top-0 w-full h-24 rounded-t-xl" />
      <img class="group-hover:-rotate-10 group-hover:-translate-y-1 transition-transform z-10 rounded-full"
        src="https://api.dicebear.com/9.x/personas/svg?seed=Felix&backgroundColor=ffdfbf" height="80" width="80"
        alt="user portrait" />
      <h2 class="font-bold text-2xl text-white group-hover:scale-110 transition-transform">Felix baumgartner</h2>
      <p class="text-gray-400 group-hover:translate-y-1 transition-transform">@felixb</p>
      <p class="text-center text-white text-gray-400 group-hover:translate-y-1 transition-transform">I love making pips
        about the things that I find interesting</p>
      <div class="flex gap-8 text-center group-hover:translate-y-1 transition-transform">
        <div class="flex flex-col gap-2">
          <p class="text-white">783</p>
          <p class="text-gray-400">Following</p>
        </div>
        <div class="flex flex-col gap-2">
          <p class="text-white">251</p>
          <p class="text-gray-400">Followers</p>
        </div>
      </div>
    </div>
    <!-- Create new pip section -->
    <div
      class="flex flex-col gap-4 justify-center card-bg col-span-6 row-span-1 p-5 border border-slate-500 rounded-2xl">
      <div class="flex gap-4 group">
        <img class="w-8 h-8 rounded-full group-hover:translate-x-1 transition-transform"
          src="https://api.dicebear.com/9.x/personas/svg?seed=Felix&backgroundColor=ffdfbf" alt="user portrait" />
        <!-- Open modal when button is clicked -->
        <button id="pipInputField"
          class="bg-slate-950 hover:border-slate-400 cursor-pointer hover:text-white w-full py-1 px-2 text-gray-400 border border-slate-500 rounded-md">
          <p class="text-start text-sm">What is on your mind?... Make a pip</p>
        </button>
      </div>
      <!-- Tools -->
      <div class="flex gap-4">
        <button class="flex cursor-pointer hover:bg-[#093939] items-center gap-2 border border-slate-500 py-1 px-4 rounded-lg">
          <svg width="25" height="25" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
            <path fill="#63E6BE"
              d="M160 96C124.7 96 96 124.7 96 160L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 160C544 124.7 515.3 96 480 96L160 96zM224 176C250.5 176 272 197.5 272 224C272 250.5 250.5 272 224 272C197.5 272 176 250.5 176 224C176 197.5 197.5 176 224 176zM368 288C376.4 288 384.1 292.4 388.5 299.5L476.5 443.5C481 450.9 481.2 460.2 477 467.8C472.8 475.4 464.7 480 456 480L184 480C175.1 480 166.8 475 162.7 467.1C158.6 459.2 159.2 449.6 164.3 442.3L220.3 362.3C224.8 355.9 232.1 352.1 240 352.1C247.9 352.1 255.2 355.9 259.7 362.3L286.1 400.1L347.5 299.6C351.9 292.5 359.6 288.1 368 288.1z" />
          </svg>
          <p class="text-gray-400 text-sm">Photo</p>
        </button>
        <button class="flex items-center gap-2 cursor-pointer hover:bg-[#093939] border border-slate-500 py-1 px-4 rounded-lg">
          <svg width="25" height="25" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
            <path fill="#63E6BE"
              d="M128 128C92.7 128 64 156.7 64 192L64 448C64 483.3 92.7 512 128 512L384 512C419.3 512 448 483.3 448 448L448 192C448 156.7 419.3 128 384 128L128 128zM496 400L569.5 458.8C573.7 462.2 578.9 464 584.3 464C597.4 464 608 453.4 608 440.3L608 199.7C608 186.6 597.4 176 584.3 176C578.9 176 573.7 177.8 569.5 181.2L496 240L496 400z" />
          </svg>
          <p class="text-gray-400 text-sm">Video</p>
        </button>
        <button class="flex items-center gap-2 cursor-pointer hover:bg-[#093939] border border-slate-500 py-1 px-4 rounded-lg">
          <svg width="25" height="25" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
            <path fill="#63E6BE"
              d="M224 64C206.3 64 192 78.3 192 96L192 128L160 128C124.7 128 96 156.7 96 192L96 240L544 240L544 192C544 156.7 515.3 128 480 128L448 128L448 96C448 78.3 433.7 64 416 64C398.3 64 384 78.3 384 96L384 128L256 128L256 96C256 78.3 241.7 64 224 64zM96 288L96 480C96 515.3 124.7 544 160 544L480 544C515.3 544 544 515.3 544 480L544 288L96 288z" />
          </svg>
          <p class="text-gray-400 text-sm">Schedule</p>
        </button>
      </div>
    </div>
    <!-- Trending pip tags -->
    <div class="gap-4 card-bg flex flex-col p-6 col-span-3 row-span-4 rounded-2xl">
      <h3 class="font-bold text-lg text-white">Trending pip tags</h3>
      <p class="text-gray-400">Trending in Austria</p>
      <div id="pipTagContainer" class="flex flex-col gap-4">
        <!-- Individal tag group queryselector gets them by classname and sets values -->
        <template id="pipTagTemplate">
          <div class="flex gap-6 items-center justify-between">
            <p class="text-2xl text-white">#</p>
            <div class="flex flex-col">
              <p class="title text-sm text-white"></p>
              <p class="numberOfPips text-gray-400 text-sm"></p>
            </div>
            <div class="flex-1 flex justify-end">
              <button class="rounded-full py-1 px-2 cursor-pointer">
                <p class="text-xs text-white hover:text-gray-300">See pips</p>
              </button>
            </div>
          </div>
        </template>
      </div>
    </div>
    <!-- Pips section -->
    <section id="pipsection" class="grid gap-2 overflow-auto h-full col-span-6 row-span-5 rounded-2xl">
      <ul id="pipcontainer" class="pipcontainer">
        <!-- JavaScript function generates pips here -->
        <!-- The pipList div makes sure that there always is a html structure so that the show more button is rendered at the bottom -->
        <div id="pipList" class="flex flex-col gap-4">
          <template id="piptemplate">
            <li class="group flex flex-col gap-2 border border-slate-400 pip-bg rounded-2xl p-4 min-h-50 transition-colors">
                <div class="flex justify-between items-center">
                  <div class="flex gap-2 items-center group-hover:translate-x-1 transition-transform">
                    <img class="userimage w-10 h-10 rounded-full bg-green-950 group-hover:rotate-8 transition-transform" src="" alt="avatar">
                    <p class="name font-bold"></p>
                  </div>
                  <div class="flex gap-2 items-center">
                    <p class="date text-xs"></p>
                    <button id="deletebutton" class="delete h-fit p-1 border border-slate-500 cursor-pointer hover:bg-red-500 hover:text-white rounded-lg text-xs">Delete</button>
                  </div>
                </div>
                <p class="piptext"></p>
            </li>
          </template>
         </div>
         <div class="flex justify-center w-full py-3">
          <button id="showmorebutton" class="bg-black text-white w-fit rounded-lg py-1 px-2 hover:bg-slate-800 cursor-pointer">Show more</button>
          </div>
        <!-- Hidden div that contains offset of the rendered pips. Needs to update each time the show more button is clicked -->
         <div id="nextoffset" class="hidden"></div>
      </ul>
    </section>
    <!-- People to follow -->
    <div class="gap-6 flex flex-col p-6 col-span-3 row-span-3 card-bg rounded-2xl">
      <h3 class="font-bold text-lg text-white">People you might want to follow</h3>
      <template id="persontemplate">
        <div class="flex gap-4 items-center">
          <img class="avatar" height="40" width="40" alt="user portrait" />
          <div class="flex flex-col gap-1">
            <p class="name text-sm text-white">Bernie Learney</p>
            <p class="handle text-gray-400 text-sm">@bernielearney</p>
          </div>
          <div class="flex justify-end flex-1">
            <button class="followbutton bg-white rounded-lg py-1 px-2 hover:bg-slate-300 cursor-pointer">
              <p class="text-black text-sm">Follow</p>
            </button>
          </div>
        </div>
      </template>
      <div id="followpersoncontainer" class="flex flex-col gap-6">
      </div>
      <button class="w-fit rounded-lg py-1 px-2 cursor-pointer">
        <p class="text-xs text-gray-200 hover:text-gray-300">Discover more people</p>
      </button>
    </div>
  </section>
  <!-- Main javascript file -->
  <script type="module" src="/main.js"></script>
</body>
</html>